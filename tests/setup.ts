// Test setup - set required env vars before any imports
process.env.NODE_ENV = 'test';
process.env.DATABASE_URL = 'postgresql://test:test@localhost:5432/test';
process.env.ENCRYPTION_KEY = '0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef';
process.env.JWT_SECRET = 'test-jwt-secret-that-is-at-least-32-chars';
process.env.CRYPTO_SERVICE_URL = 'localhost:50051';

// GitHub App configuration (unified auth + repo access)
process.env.GITHUB_APP_ID = '123456';
process.env.GITHUB_APP_CLIENT_ID = 'Iv1.test-client-id';
process.env.GITHUB_APP_CLIENT_SECRET = 'test-client-secret';
// Base64-encoded minimal test RSA private key
process.env.GITHUB_APP_PRIVATE_KEY = 'LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBMFozVlM1SkpjZHMzeGZuL3lnV3lGOFBibkd5MEFIQjdNbUU4TGN6TlBIcUhOTVlnCkhwT0ZaUG9hWFhQTDlrTDlYWU04QzlXdlQwWDNsMjNUdlhNd013SnoxRXVxT0p3OCt4WUs5cFo4bDhCcURrRXoKSjFMeDR5dzZFNU1NRFkrSGdUMnBLcENBdmNCL3dBWHVITGxUNFF6SzB4MkZ4S0UrUEU0YzdOL3NNS0U3TjB1Zwp0eEtHOWMzZUpsVkwzTk5LTlhYUW9KOStIeE41RUlEQWY1ZytTMXk5dlpIWERtNkwrUHo1ZThLTlBwdzJSTll1CnhzYUZWUEZjdkJESC80NUh3RTlSSG1OMUtXUFI2ZjV3SjBNTnd3bW43bVArQjlxRjhONU44TFpQWE0wZEM3UjYKMk00R2hQUkg1eHZDNE04SjlLN0U4UUxuWWVGOWszTnY0UmpLOXdJREFRQUJBb0lCQUJ6UzhaVlhIRzFaOFRRaApmWTRlNnZBb3hqeDNOclBCcG5URkhLWXE4UVg2elhQNHhIcVNkMlM5Y1M3RjVlWEhOMGQ4VnhCVENMMEcxWHloCkpLOEs3K1Z1TGhQSm0wWDNrMVB4UjFiRXBocWc2QTdTOFFmQmoyak9PelMyYjB3bnYxdktPVENoc0o3SzloR0cKUjVmU29aL3pQTVRtUXJ5VDBlWUY0Sy81Y0M5R3hGNWdrNVZ3WXp4eDNGN003ZlZ6UThWM3M3UG5DSFRNalg1RQpkUkpDRTZ3ZVFFM1owQXBINVk4TjVSTXk5YjdnOE4zTHB6TjlGN3ZUeFFROWYzTE1zaDh4SDNHOFAzYkY4R3RQCnpzcEQ2RjlWVTdONXo3WDUrRzVxSWJHak5UNXg4QjNlNXJGZEtFM1ExWVZiN0M3eEM1Vks3K2ozTUpHaFZyRjYKTkpsMkNtRUNnWUVBN0swRjl4RjVGeE5KelNMTkRDd09aM1BKNE12R0lpN0xRZDRLRnFOQktGN3NHREJSOU1NOQp3TmZEa1g4SzdhVTN4ZFBmN0s5SDJNejVLOXFLT0ZFNk4vTDlESkNSMFRuSmVQM2haK2hZUnMwdTNrNEw3eDZXCmdWR0pNUlU1bUI4aENRSGJ6MkVMdldRM1I4UWZOa0IrQ1pOdlA5UjVMMHZ2TTFUajdFM0w5WGNDR1lFQTR4elMKUmpXejhLL3lMQ25MdjZQM1o5eDh2aE41TFZuRDVFRUtIWjNNckd4MERhUTdoeTZGM2dFZThGN0U1RzkrZjVjOApmM0xpRThmMytWeFJWRjdGZjVmRzNoRjBIRzVjOUU4TjdlNWRGNVZFNmc1a0w1blY4cE05ZkxKTDZUZ0U1YkQ3Ck1xRkU5SDdWTDNhTDlRRWQ3aVY4RTRGRTNRUVA3TDhMM0w1d1lFQ2dZRUFxQzVGOFE4SDlWTFFoNkU0bjVMUQpOOEU5bDNNUTZmR3E4TDd2RTlMeEQ1TDdFNEY4QzdoM0w1RjlMNm5MM0YzTjhRNVYzZk5FN0xRbDNON0U2TDVRQ0YzRTVOOUw3TTNGNUw4RTdKNU05SzNMNUY3RDlIM1E4SzdMNU4zRTlGOEwzSjdLOUw1TTNSN044TDNFNUY5SzcKTTNMNVE4RTVMMUY1SzNOOEw3TTNROEW5RjVKM0U3SzlMNU4zTThGN0w1RTNTOTQ3SzVMM045RjhNN0w1SzNFQ2cKWUVBb0w1RThMN0Y1TjNLOE03TDVFM1E5RjhKN0w1SzNOOU04TDdGNUUzSzlKN0w1TjNNOFE5RjdMNUszRTlKOApMN041TTNGOES4TDVFN1EzSjlMNU44TTdLM0Y1TDlFOFE3SjNLNUw5TjhNN0Y1RTNMOUS4SjdRNU4zTTlMOEY1CkU3SzNKOUw1TjhRN00zRjVLOUw4RTdKM1E1TjlNOEw3RjVLM0U5SjhMNU43TTNROUk4SzVMN0UzSjlONU04TDcKRjVLM0U5TDhKN1E1TjNNOUY4TDdLNUUzSjlOOE03TDVGM1E5SzhFN0o1TDNOoU04RjdLNUwzRTlROEo3TjVNMwpGOUw4SzdFNUozUTlOOE03TDVGM0s5RThMN0o1TjNROUs4RjdLNUwzRTlKOE43TTVRMw0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K';
